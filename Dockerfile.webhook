# Dockerfile for Roura Agent Payment Webhook Server
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir flask gunicorn

# Copy webhook server (self-contained)
COPY scripts/webhook_server.py .

# Railway sets PORT env var
ENV PORT=8000

# Run with gunicorn - use $PORT for Railway compatibility
CMD gunicorn webhook_server:app -b 0.0.0.0:$PORT --workers 2 --access-logfile -
